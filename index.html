<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMEN - Проект Алые Паруса</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    <style>
        :root { --paper-w: 210mm; --paper-h: 297mm; }
        body { margin: 0; background: #0f0f0f; height: 100vh; overflow: hidden; font-family: "Times New Roman", Times, serif; }
        #viewport { width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; }
        #canvas { transform-origin: center; will-change: transform; }
        .a4-page {
            width: var(--paper-w); height: var(--paper-h);
            background: white; box-shadow: 0 0 50px rgba(0,0,0,0.9);
            padding: 20mm 15mm 20mm 30mm; box-sizing: border-box;
            position: relative; display: none; flex-direction: column; color: #000;
        }
        .a4-page.active { display: flex; }
        h1 { text-align: center; font-size: 22pt; margin: 0 0 15mm 0; text-transform: uppercase; }
        h2 { font-size: 18pt; margin: 5mm 0; border-bottom: 2px solid #000; text-align: center; }
        p { font-size: 13pt; line-height: 1.5; text-align: justify; margin: 2mm 0; text-indent: 1.25cm; }
        .page-num { position: absolute; bottom: 10mm; right: 15mm; font-size: 11pt; }
        .ui { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; z-index: 1000; mix-blend-mode: difference; }
        button { padding: 8px 16px; background: white; border: none; color: black; border-radius: 4px; cursor: pointer; font-weight: 700; text-transform: uppercase; font-size: 11px; }
        @media print {
            body { background: white; overflow: visible; }
            .ui { display: none; }
            #viewport, #canvas { display: block; transform: none !important; }
            .a4-page { display: flex !important; box-shadow: none; page-break-after: always; }
        }
    </style>
</head>
<body>
<div id="viewport"><div id="canvas">
    <div class="a4-page active">
        <p style="text-align: center; font-weight: bold; text-indent: 0;">«VOSIQ INTERNATIONAL SCHOOL»</p>
        <h1 style="margin-top: 60mm;">Проектная работа</h1>
        <p style="text-align: center; font-weight: bold; font-size: 18pt; text-indent: 0;">«Что важнее: материальные или духовные ценности?»</p>
        <div style="margin-top: auto; text-align: right; border-top: 1px solid #000;">
            <p style="text-indent: 0;">Выполнили: Абдувахидов А., Сатимов А., Хакимов А.</p>
            <p style="text-indent: 0;">Руководитель: Янович Л. С.</p>
        </div>
    </div>
    <div class="a4-page">
        <h2>Введение</h2>
        <p>В современном мире выбор между вещами и душой стоит очень остро. Наша работа изучает, почему с возрастом у людей меняются ориентиры. Мы выбрали повесть "Алые паруса", чтобы показать, как мечта побеждает серую реальность.</p>
        <p>Актуальность темы в том, что в погоне за материальным мы часто теряем человечность. Ассоль и Грэй доказывают, что истинная сила — в верности своей мечте.</p>
        <div class="page-num">2</div>
    </div>
    <div class="a4-page">
        <h3>Разбор ценностей и «Алых парусов»</h3>
        <p>Жители Каперны — пример материального мира. Они грубы и не верят в чудеса. Ассоль же живет духовным миром. Грэй, имея деньги, тратит их на алый шелк, соединяя возможности и мечту. Мы провели опрос: 60% учеников ценят вещи, но 72% учителей выбрали духовное. Это доказывает, что опыт меняет нас.</p>
        <div class="page-num">3</div>
    </div>
</div></div>
<div class="ui">
    <button id="prevBtn">Назад</button>
    <button onclick="window.print()">Печать</button>
    <button id="nextBtn">Далее</button>
</div>
<script>
    let current = 1; const pages = document.querySelectorAll('.a4-page');
    const update = () => { pages.forEach((p, i) => p.style.display = (i+1 === current) ? 'flex' : 'none'); };
    document.getElementById('nextBtn').onclick = () => { if(current < pages.length) {current++; update(); resetTransform();} };
    document.getElementById('prevBtn').onclick = () => { if(current > 1) {current--; update(); resetTransform();} };
    const canvas = document.getElementById('canvas'); const mc = new Hammer.Manager(document.body);
    let scale = 1, lastScale = 1, x = 0, y = 0, lastX = 0, lastY = 0;
    mc.add(new Hammer.Pinch()); mc.add(new Hammer.Pan());
    const apply = () => canvas.style.transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;
    const resetTransform = () => { scale = (window.innerHeight * 0.85) / (297 * 3.78); x = 0; y = 0; apply(); };
    mc.on("pinchmove", (e) => { scale = lastScale * e.scale; apply(); });
    mc.on("pinchend", () => lastScale = scale);
    mc.on("panmove", (e) => { x = lastX + e.deltaX; y = lastY + e.deltaY; apply(); });
    mc.on("panend", () => { lastX = x; lastY = y; });
    resetTransform();
</script>
</body>
</html>
